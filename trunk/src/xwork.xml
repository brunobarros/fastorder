<!DOCTYPE xwork PUBLIC "-//OpenSymphony Group//XWork 1.1.1//EN" "http://www.opensymphony.com/xwork/xwork-1.1.1.dtd">

<xwork>
    <include file="webwork-default.xml"/>    

    <package name="default" extends="webwork-default" namespace="/">    
    
    	<interceptors>

    		<interceptor name="permission" class="br.com.fastorder.interceptor.PermissionInterceptor"/>
    		    	
    		<interceptor name="transaction" class="br.com.fastorder.interceptor.TransactionInterceptor"/>
    		
    		<interceptor-stack name="publicStack">
    			<interceptor-ref name="defaultStack" />
    			<interceptor-ref name="transaction" />   			
    		</interceptor-stack>
    		
    		<interceptor-stack name="appStack">
    			<interceptor-ref name="defaultStack" />
    			<interceptor-ref name="permission" />    			
    			<interceptor-ref name="transaction" />   			
    		</interceptor-stack>
    	
    	</interceptors>
        
        <global-results>
        	<result name="login" type="dispatcher">login.jsp</result>
        </global-results>  
        
		<action name="main">
			<interceptor-ref name="permission" />
            <result type="dispatcher" >main.jsp</result>
        </action>
        
        <action name="login" method="login" class="usuarioAction">
	        <interceptor-ref name="publicStack" />
        	<result name="success" type="dispatcher">main.jsp</result>
        	<result name="input" type="dispatcher">login.jsp</result>
        	<result name="error" type="dispatcher">login.jsp</result>        	        	
        </action>
        
        <action name="logoff" method="logoff" class="usuarioAction">
        	<result name="success" type="dispatcher">login.jsp</result>        	        	
        </action>                                     
	
	</package>
	
	<include file="xwork-tipo-produto.xml" />
	
	<include file="xwork-produto.xml" />
	
</xwork>
